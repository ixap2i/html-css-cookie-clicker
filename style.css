:root {
  --left: 300px;
}

body {
  background-color: #cccccc;
}

.cookie {
  width: 100px;
  height: 100px;
  border: 1px solid black;
  border-radius: 50px;
  position: relative;
  background-color: chocolate;
  counter-reset: total 0;
}
.cookie > input.increment {
  width: 100%;
  height: 100%;
  position: absolute;
  inset: 0;
  left: var(--left);
  margin: 0;
  border: none;
  border-radius: 50%;
  cursor: pointer;
  appearance: none;
}
.cookie > input.increment:first-child {
  left: 0;
}
.cookie > input.increment:checked {
  left: var(--left);
}
.cookie > input.increment:checked + input.increment:not(:checked) {
  left: 0;
}
.cookie > input.increment:checked + input.increment:not(:checked) + input.increment:not(:checked) {
  left: var(--left);
}
.cookie > input.increment:checked {
  counter-increment: total 1;
}

.shop {
  position: absolute;
  top: 0;
  left: 200px;
  width: 200px;
  border: 1px dotted black;
}
.shop > .items {
  margin-top: 10px;
}
.shop > .items button {
  width: 100%;
  background-color: gray;
  cursor: not-allowed;
  border: none;
  padding: 0;
  position: relative;
  height: 30px;
}
.shop > .items button > label {
  display: block;
  width: 100%;
  height: 100%;
  position: absolute;
  top: 0;
  left: var(--left);
  cursor: pointer;
}

.result::after {
  content: "クッキー：" counter(total) "枚";
}

/* item1: price 5 */
.cookie >
  input.increment:checked +
  input.increment:checked +
  input.increment:checked +
  input.increment:checked +
  input.increment:checked ~
  .shop > .items > .item1 label {
  top: 0;
  left: 0;
}
.cookie >
  input.increment:checked +
  input.increment:checked +
  input.increment:checked +
  input.increment:checked +
  input.increment:checked ~
  .shop > .items > .item1 button {
  background-color: skyblue;
}
